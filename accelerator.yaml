accelerator:
  displayName: Frontend UX for Online Stores
  description: Accelerator to create fronted UX for online Stores
  iconUrl: https://raw.githubusercontent.com/dektlong/dekt-images/main/reactjs-logo.png
  tags:
  - onlinestore-dev

  options:
  - name: firstApiGroup
    label: First level API group
    description: Name of the first level API group
    defaultValue: apiGroup1
    required: true
  - name: secondApiGroup
    label: Second level API group
    description: Name of the second API group
    display: true
  - name: thirdApiGroup
    label: Third  level API group
    description: Name of the third API group
    defaultValue: apiGroup3
  - name: forthApiGroup
    label: Forth level API group
    description: Name of the forth API group
    defaultValue: apiGroup4
  - name: fifthApiGroup
    label: Fifth level API group
    description: Name of the Fifth API group
    defaultValue: apiGroup5
  - name: appDeploymentType
    label: App deployment config
    description: Type of deployment configurations
    required: true
    defaultValue: k8s
    choices:
      k8s: K8s simple
      k8sSkaffold: K8s with Skaffold configs

engine:
  sources:
  - includes: ["**"]
    excludes: [ "accelerators/deployment/**" ]
    transformations:
    - type: ReplaceText
      substitutions:
      - text: {{api-group1}}
        with: "#firstApiGroup"
      - text: {{api-group2}}
        with: "#secondApiGroup"
  - includes: [ "accelerators/deployment/app-simple.yaml" ]
    condition: "#appDeploymentType == 'k8s'"
  - includes: [ "accelerators/deployment/app-simple.yaml", "accelerators/deployment/skaffold.yaml"]
    condition: "#appDeploymentType == 'k8sSkaffold'"
  transformations:
  - type: ReplaceText
    substitutions:
    - text: app-name
      with: "#artifactId"
